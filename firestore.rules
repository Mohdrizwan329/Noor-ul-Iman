rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Allow read/write access to otps collection for OTP verification
    // Note: In production, you may want to add more specific rules
    match /otps/{email} {
      // Allow anyone to create/update OTP (for sending OTP)
      allow create, update: if true;

      // Allow anyone to read OTP (for verification)
      allow read: if true;

      // Allow anyone to delete OTP (for cleanup after verification)
      allow delete: if true;
    }

    // Default rule for other collections
    // Require authentication for all other data
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
